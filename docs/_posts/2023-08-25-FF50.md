---
layout: post
number: "50"
title: "Forensic Friday 50: Mod Support out of nowhere"
desc: ""
date: 2023-08-25 00:00:00 +0100
published: true 
permalink: "/ff50"
---

After 825 days since the first Forensic Friday, we've reached quite a significant landmark, Forensic Friday 50! While Forensic Friday is now a weekly blog, it wasn't always this way, and during inconsistent schedules and many multi-month spanning hiatuses, we appreciate everyone one who has remained supportive and engaged with our game's progress, new and old! 

First and foremost let's get into the nitty gritty for what we've been up to this week, before going on a trip down memory lane, looking back at the Forensic Fridays that have preceded this!

# Utility AI Hell pit almost filled up

All the major systems pre utility AI system have slowly been making their way over. The only outstanding features are combat! There are a few bugs with builders, but for the most part, the system works flawlessly, which means any NPC related features down the road will be implemented in a fraction of the time! NPCs feel much more alive and real as an added bonus, which undoubtedly adds value to the game.

We worked on visualing some of the features pertaining to the utility system for our and your convience! Take a look:

<div style="display:flex">
    <div style="flex:1;padding-right:10px;">
        <img src="./forensic-friday-media/ff50/desires.png" width="100%"/>
    </div>
</div>

As these desires tick down, the NPCs will try to satisfy them, in a very dynamic way. Awesome!

# MOD SUPPORT???

The tailend of this week took a very unexpected turn. We decided to implement mod support 30 Forensic Fridays early. Why? Well...

Considering we are already going through a major refactor with the new NPC AI system, we thought why not add mod support now? It would only become harder to add as the codebase gets more complex, and it will only take a few hours or so. Right? WRONG. After very many hours of labour and staring at errors, reading scarce articles and barebones documentations, we eventually got the resemblance of mod support up and running. Turns out, mod support isn't exactly a well documented problem. Most advice follows the lines of: 

> "...figure out how to build the framework yourself, or use an external tool"

Well, since we are so high and mighty, we had to implement it from scratch, didn't we? 

The result though is a pretty elegant solution to mod support that will make out game moddable to any degree. This is facilitated by the fact that out base game now loads itself as a mod! So if our game is a mod, then modders practically have free range to do whatever they want! Heck if they wanted to make the game completely unrecognisable, they could! 

Obviously there are still some kinks to iron out. Right now we are figuring out the best way to handle loading assets. But for the most part, mod support is done! Which is awesome! For those more technical people out there, heres how the mod making pipeline will work:

<details>
<summary>1) Create New Unity Project </summary>
<div style="display:flex">
     <div style="flex:1;padding-right:10px;">
          <img src="./forensic-friday-media/ff50/1.png" width="100%"/>
     </div>
</div>
</details>

<details>
<summary>2) Locate CoreMod in Mod Folder </summary>
<div style="display:flex">
     <div style="flex:1;padding-right:10px;">
          <img src="./forensic-friday-media/ff50/2.png" width="100%"/>
     </div>
</div>
</details>

<details>
<summary>3) Drag Core Mod into Unity Project </summary>
<div style="display:flex">
     <div style="flex:1;padding-right:10px;">
          <img src="./forensic-friday-media/ff50/3.png" width="100%"/>
     </div>
</div>
</details>

<details>
<summary>4) Write your mod entry class, and the rest of your mod (this is the best bit)</summary>
<div style="display:flex">
     <div style="flex:1;padding-right:10px;">
          <img src="./forensic-friday-media/ff50/code.png" width="100%"/>
     </div>
</div>
</details>

<details>
<summary>5) Create Mod Settings</summary>
<div style="display:flex">
     <div style="flex:1;padding-right:10px;">
          <img src="./forensic-friday-media/ff50/4.png" width="100%"/>
     </div>
</div>
</details>

<details>
<summary>6) Fill out Mod Settings</summary>
<div style="display:flex">
     <div style="flex:1;padding-right:10px;">
          <img src="./forensic-friday-media/ff50/5.png" width="100%"/>
     </div>
</div>
</details>

<details>
<summary>7) Build and Locate in Build Output Folder. You now have your mod! Ready publish, somewhere...</summary>
<div style="display:flex">
     <div style="flex:1;padding-right:10px;">
          <img src="./forensic-friday-media/ff50/6.png" width="100%"/>
     </div>
</div>
</details>

It's rly that simple! This mod pipeline might not reflect the final version, but will probably be pretty close to it. One thing that may change is stuff specific to resource folders. But, as a modder, you'll have access to all the games data files, allowing you to easily add new tiles and even create your own extensions of them. We basically give modders "Full Access", so they can change the game in anyway they please.

The modding framework still needs to support dependency load ordering and such, but is pratically done. The only limitation is that you can't use (sorry I am being super technical here) the unity Job System or Burst Compiler in mods. (As far as we know. This is due to an oversight of the unity developers, that may get ammended in the future, but it not rly an issue.)

All that out of the way. For those less technical, all you need to know is that **we'll have mod support right out of the box!**

Link example:
[name](link)

# Case Closed

OUTRO

**Case Closed.**\
**The Team**\
**Plasmarc Studios**